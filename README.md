# 项目说明

该仓库包含一个简单的 Node.js 服务端和微信小程序示例，用于演示创建订单、生成公章以及分享订单信息。

## 公章生成方案调研

常见的公章生成方式通常借助 Canvas 绘图。以下是两种常见场景的方案：

### Node 端
- **canvas (node-canvas)**：Node 环境常用的 Canvas 实现，API 与浏览器 Canvas 接近，可在服务器上生成 PNG 或 JPEG 等格式图像。适合在创建订单后在服务端生成公章图像。

### 小程序端
- **<canvas> 组件**：微信小程序自身提供的 Canvas 组件，可直接在前端绘制图形并导出临时图片，可配合 `wx.canvasToTempFilePath` 导出图像。

两种方式均可绘制圆形边框、文字、星形等元素以实现常见的公章效果。

在服务端创建销售单时，项目会使用 `canvas` 自动生成带订单编号的公章图片，并随订单数据一起返回。小程序的订单详情页提供了“分享”按钮，分享时会携带该公章图片及支付二维码，方便客户直接付款。

## 运行

1. 进入 `server` 目录执行 `npm install && npm start` 启动接口服务。
2. 使用微信开发者工具打开 `miniprogram` 目录即可预览小程序。
